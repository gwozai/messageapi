import{d as I,K as F,e4 as b,r as k,cz as x,e5 as C,o as h,e as N,g as n,f as s,w as r,u as v,e6 as D,bx as T,e7 as J,i as K,c as O,p as U,j as q,_ as z}from"./index.2f7faff1.js";import{E as P,a as $}from"./el-form-item.3c98d51a.js";/* empty css                    */import{E as j}from"./el-input.e00db325.js";import{E as B}from"./index.074980c0.js";import{E as A}from"./index.69b52b01.js";import"./_baseClone.bab0c455.js";import"./_Uint8Array.a107ab3a.js";import"./_initCloneObject.3ff6cf23.js";import"./event.776e7e11.js";import"./isEqual.894c56f2.js";const S=u=>(U("data-v-d87e75ad"),u=u(),q(),u),L={class:"login-wrap"},M={class:"ms-login"},R=S(()=>n("div",{class:"ms-title"},"\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF",-1)),G={class:"login-btn"},H=S(()=>n("p",{class:"login-tips"},"Tips : \u7528\u6237\u540D\u548C\u5BC6\u7801\u968F\u4FBF\u586B\u3002",-1)),Q=I({__name:"login",setup(u){const m=localStorage.getItem("login-param"),l=m?JSON.parse(m):null,i=F(!!m),w=b(),o=k({username:l?l.username:"",password:l?l.password:""}),y={username:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"}]},c=x(),p=F(),_=d=>{!d||d.validate(e=>{if(e){B.success("\u767B\u5F55\u6210\u529F"),localStorage.setItem("ms_username",o.username);const a=c.defaultList[o.username=="admin"?"admin":"user"];c.handleSet(a),localStorage.setItem("ms_keys",JSON.stringify(a)),w.push("/"),i.value?localStorage.setItem("login-param",JSON.stringify(o)):localStorage.removeItem("login-param")}else return B.error("\u767B\u5F55\u5931\u8D25"),!1})};return C().clearTags(),(d,e)=>{const a=O,g=j,f=P,E=A,V=$;return h(),N("div",L,[n("div",M,[R,s(V,{model:o,rules:y,ref_key:"login",ref:p,"label-width":"0px",class:"ms-content"},{default:r(()=>[s(f,{prop:"username"},{default:r(()=>[s(g,{modelValue:o.username,"onUpdate:modelValue":e[0]||(e[0]=t=>o.username=t),placeholder:"username"},{prepend:r(()=>[s(a,{icon:v(D)},null,8,["icon"])]),_:1},8,["modelValue"])]),_:1}),s(f,{prop:"password"},{default:r(()=>[s(g,{type:"password",placeholder:"password",modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=t=>o.password=t),onKeyup:e[2]||(e[2]=T(t=>_(p.value),["enter"]))},{prepend:r(()=>[s(a,{icon:v(J)},null,8,["icon"])]),_:1},8,["modelValue"])]),_:1}),n("div",G,[s(a,{type:"primary",onClick:e[3]||(e[3]=t=>_(p.value))},{default:r(()=>[K("\u767B\u5F55")]),_:1})]),s(E,{class:"login-tips",modelValue:i.value,"onUpdate:modelValue":e[4]||(e[4]=t=>i.value=t),label:"\u8BB0\u4F4F\u5BC6\u7801",size:"large"},null,8,["modelValue"]),H]),_:1},8,["model"])])])}}});const ne=z(Q,[["__scopeId","data-v-d87e75ad"]]);export{ne as default};
