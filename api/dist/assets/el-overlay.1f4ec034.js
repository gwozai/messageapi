import{a3 as oe,ac as ce,as as fe,b8 as K,R as ve,C as me,P as Z,bJ as ye,A as te,a9 as J,N as j,bK as pe,a7 as be,bL as ge,aa as Ce,bM as V,aB as x,aC as U,d as Y,f as R,bN as W,aj as E,ab as he,bs as we,W as Ee,a6 as Q,bO as ke,M as I,o as P,e as H,g as X,n as k,u as o,t as Me,w as S,Z as q,aD as Te,b as Be,al as _,ak as se,X as le,bP as De,bQ as Se,D as Le,be as Ie,bC as G,K as L,bR as Ae,bS as Oe,Q as $e,L as Pe,bT as Fe,bU as ee,aX as Ne,aW as ze,ai as Re,a1 as Ye,by as Xe,bq as Ue,bV as Ve,am as We,bm as He,bn as Ke,au as je}from"./index.2f7faff1.js";import{U as ne}from"./event.776e7e11.js";import{a as qe}from"./scroll.df75995b.js";const _e=(e,t,r,c)=>{let l={offsetX:0,offsetY:0};const u=v=>{const d=v.clientX,y=v.clientY,{offsetX:p,offsetY:C}=l,f=e.value.getBoundingClientRect(),i=f.left,w=f.top,A=f.width,F=f.height,O=document.documentElement.clientWidth,N=document.documentElement.clientHeight,z=-i+p,$=-w+C,M=O-i-A+p,T=N-w-F+C,h=s=>{let m=p+s.clientX-d,b=C+s.clientY-y;c!=null&&c.value||(m=Math.min(Math.max(m,z),M),b=Math.min(Math.max(b,$),T)),l={offsetX:m,offsetY:b},e.value&&(e.value.style.transform=`translate(${K(m)}, ${K(b)})`)},B=()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",B)};document.addEventListener("mousemove",h),document.addEventListener("mouseup",B)},a=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",u)},n=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",u)};oe(()=>{ce(()=>{r.value?a():n()})}),fe(()=>{n()})},Ze=(e,t={})=>{ve(e)||me("[useLockscreen]","You need to pass a ref param to this function");const r=t.ns||Z("popup"),c=ye(()=>r.bm("parent","hidden"));if(!te||J(document.body,c.value))return;let l=0,u=!1,a="0";const n=()=>{setTimeout(()=>{Ce(document==null?void 0:document.body,c.value),u&&document&&(document.body.style.width=a)},200)};j(e,v=>{if(!v){n();return}u=!J(document.body,c.value),u&&(a=document.body.style.width),l=qe(r.namespace.value);const d=document.documentElement.clientHeight<document.body.scrollHeight,y=pe(document.body,"overflowY");l>0&&(d||y==="scroll")&&u&&(document.body.style.width=`calc(100% - ${l}px)`),be(document.body,c.value)}),ge(()=>n())},ae=e=>{if(!e)return{onClick:V,onMousedown:V,onMouseup:V};let t=!1,r=!1;return{onClick:a=>{t&&r&&e(a),t=r=!1},onMousedown:a=>{t=a.target===a.currentTarget},onMouseup:a=>{r=a.target===a.currentTarget}}},xe=x({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:U([String,Array,Object])},zIndex:{type:U([String,Number])}}),Je={click:e=>e instanceof MouseEvent},Qe="overlay";var Ge=Y({name:"ElOverlay",props:xe,emits:Je,setup(e,{slots:t,emit:r}){const c=Z(Qe),l=v=>{r("click",v)},{onClick:u,onMousedown:a,onMouseup:n}=ae(e.customMaskEvent?void 0:l);return()=>e.mask?R("div",{class:[c.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:u,onMousedown:a,onMouseup:n},[E(t,"default")],W.STYLE|W.CLASS|W.PROPS,["onClick","onMouseup","onMousedown"]):he("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[E(t,"default")])}});const eo=Ge,ie=Symbol("dialogInjectionKey"),re=x({center:Boolean,alignCenter:Boolean,closeIcon:{type:we},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),oo={close:()=>!0},to=["aria-level"],so=["aria-label"],lo=["id"],no=Y({name:"ElDialogContent"}),ao=Y({...no,props:re,emits:oo,setup(e){const t=e,{t:r}=Ee(),{Close:c}=De,{dialogRef:l,headerRef:u,bodyId:a,ns:n,style:v}=Q(ie),{focusTrapRef:d}=Q(ke),y=I(()=>[n.b(),n.is("fullscreen",t.fullscreen),n.is("draggable",t.draggable),n.is("align-center",t.alignCenter),{[n.m("center")]:t.center}]),p=Se(d,l),C=I(()=>t.draggable),f=I(()=>t.overflow);return _e(l,u,C,f),(i,w)=>(P(),H("div",{ref:o(p),class:k(o(y)),style:se(o(v)),tabindex:"-1"},[X("header",{ref_key:"headerRef",ref:u,class:k([o(n).e("header"),{"show-close":i.showClose}])},[E(i.$slots,"header",{},()=>[X("span",{role:"heading","aria-level":i.ariaLevel,class:k(o(n).e("title"))},Me(i.title),11,to)]),i.showClose?(P(),H("button",{key:0,"aria-label":o(r)("el.dialog.close"),class:k(o(n).e("headerbtn")),type:"button",onClick:w[0]||(w[0]=A=>i.$emit("close"))},[R(o(Be),{class:k(o(n).e("close"))},{default:S(()=>[(P(),q(Te(i.closeIcon||o(c))))]),_:1},8,["class"])],10,so)):_("v-if",!0)],2),X("div",{id:o(a),class:k(o(n).e("body"))},[E(i.$slots,"default")],10,lo),i.$slots.footer?(P(),H("footer",{key:0,class:k(o(n).e("footer"))},[E(i.$slots,"footer")],2)):_("v-if",!0)],6))}});var io=le(ao,[["__file","dialog-content.vue"]]);const ro=x({...re,appendToBody:Boolean,appendTo:{type:U(String),default:"body"},beforeClose:{type:U(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),uo={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ne]:e=>Le(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},co=(e,t)=>{var r;const l=Pe().emit,{nextZIndex:u}=Ie();let a="";const n=G(),v=G(),d=L(!1),y=L(!1),p=L(!1),C=L((r=e.zIndex)!=null?r:u());let f,i;const w=Ae("namespace",Fe),A=I(()=>{const g={},D=`--${w.value}-dialog`;return e.fullscreen||(e.top&&(g[`${D}-margin-top`]=e.top),e.width&&(g[`${D}-width`]=K(e.width))),g}),F=I(()=>e.alignCenter?{display:"flex"}:{});function O(){l("opened")}function N(){l("closed"),l(ne,!1),e.destroyOnClose&&(p.value=!1)}function z(){l("close")}function $(){i==null||i(),f==null||f(),e.openDelay&&e.openDelay>0?{stop:f}=ee(()=>B(),e.openDelay):B()}function M(){f==null||f(),i==null||i(),e.closeDelay&&e.closeDelay>0?{stop:i}=ee(()=>s(),e.closeDelay):s()}function T(){function g(D){D||(y.value=!0,d.value=!1)}e.beforeClose?e.beforeClose(g):M()}function h(){e.closeOnClickModal&&T()}function B(){!te||(d.value=!0)}function s(){d.value=!1}function m(){l("openAutoFocus")}function b(){l("closeAutoFocus")}function ue(g){var D;((D=g.detail)==null?void 0:D.focusReason)==="pointer"&&g.preventDefault()}e.lockScroll&&Ze(d);function de(){e.closeOnPressEscape&&T()}return j(()=>e.modelValue,g=>{g?(y.value=!1,$(),p.value=!0,C.value=Oe(e.zIndex)?u():C.value++,$e(()=>{l("open"),t.value&&(t.value.scrollTop=0)})):d.value&&M()}),j(()=>e.fullscreen,g=>{!t.value||(g?(a=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=a)}),oe(()=>{e.modelValue&&(d.value=!0,p.value=!0,$())}),{afterEnter:O,afterLeave:N,beforeLeave:z,handleClose:T,onModalClick:h,close:M,doClose:s,onOpenAutoFocus:m,onCloseAutoFocus:b,onCloseRequested:de,onFocusoutPrevented:ue,titleId:n,bodyId:v,closed:y,style:A,overlayDialogStyle:F,rendered:p,visible:d,zIndex:C}},fo=["aria-label","aria-labelledby","aria-describedby"],vo=Y({name:"ElDialog",inheritAttrs:!1}),mo=Y({...vo,props:ro,emits:uo,setup(e,{expose:t}){const r=e,c=Ne();ze({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},I(()=>!!c.title));const l=Z("dialog"),u=L(),a=L(),n=L(),{visible:v,titleId:d,bodyId:y,style:p,overlayDialogStyle:C,rendered:f,zIndex:i,afterEnter:w,afterLeave:A,beforeLeave:F,handleClose:O,onModalClick:N,onOpenAutoFocus:z,onCloseAutoFocus:$,onCloseRequested:M,onFocusoutPrevented:T}=co(r,u);Re(ie,{dialogRef:u,headerRef:a,bodyId:y,ns:l,rendered:f,style:p});const h=ae(N),B=I(()=>r.draggable&&!r.fullscreen);return t({visible:v,dialogContentRef:n}),(s,m)=>(P(),q(Ke,{to:s.appendTo,disabled:s.appendTo!=="body"?!1:!s.appendToBody},[R(He,{name:"dialog-fade",onAfterEnter:o(w),onAfterLeave:o(A),onBeforeLeave:o(F),persisted:""},{default:S(()=>[Ye(R(o(eo),{"custom-mask-event":"",mask:s.modal,"overlay-class":s.modalClass,"z-index":o(i)},{default:S(()=>[X("div",{role:"dialog","aria-modal":"true","aria-label":s.title||void 0,"aria-labelledby":s.title?void 0:o(d),"aria-describedby":o(y),class:k(`${o(l).namespace.value}-overlay-dialog`),style:se(o(C)),onClick:m[0]||(m[0]=(...b)=>o(h).onClick&&o(h).onClick(...b)),onMousedown:m[1]||(m[1]=(...b)=>o(h).onMousedown&&o(h).onMousedown(...b)),onMouseup:m[2]||(m[2]=(...b)=>o(h).onMouseup&&o(h).onMouseup(...b))},[R(o(Xe),{loop:"",trapped:o(v),"focus-start-el":"container",onFocusAfterTrapped:o(z),onFocusAfterReleased:o($),onFocusoutPrevented:o(T),onReleaseRequested:o(M)},{default:S(()=>[o(f)?(P(),q(io,Ue({key:0,ref_key:"dialogContentRef",ref:n},s.$attrs,{center:s.center,"align-center":s.alignCenter,"close-icon":s.closeIcon,draggable:o(B),overflow:s.overflow,fullscreen:s.fullscreen,"show-close":s.showClose,title:s.title,"aria-level":s.headerAriaLevel,onClose:o(O)}),Ve({header:S(()=>[s.$slots.title?E(s.$slots,"title",{key:1}):E(s.$slots,"header",{key:0,close:o(O),titleId:o(d),titleClass:o(l).e("title")})]),default:S(()=>[E(s.$slots,"default")]),_:2},[s.$slots.footer?{name:"footer",fn:S(()=>[E(s.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):_("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,fo)]),_:3},8,["mask","overlay-class","z-index"]),[[We,o(v)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var yo=le(mo,[["__file","dialog.vue"]]);const Co=je(yo);export{eo as E,Ze as a,ae as b,Co as c,_e as u};
