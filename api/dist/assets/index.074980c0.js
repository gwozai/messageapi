import{aB as U,d as N,P as le,M as d,ah as M,o as p,e as $,aj as V,f as I,w as B,a1 as Z,g as k,n as f,u as n,ak as j,t as G,am as K,bm as q,X,au as re,bs as ie,aC as O,aE as ue,A as Y,c3 as ce,bA as de,K as E,bB as F,a3 as pe,N as fe,ad as me,ae as ge,Z as b,al as T,b as H,aD as ye,$ as ve,aY as Ce,bz as be,bU as he,b6 as Te,c4 as P,at as A,bD as J,aK as z,G as R,a8 as Be,c5 as Ne}from"./index.2f7faff1.js";const we=U({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String}),Se=["textContent"],Ee=N({name:"ElBadge"}),Me=N({...Ee,props:we,setup(s,{expose:t}){const e=s,a=le("badge"),o=d(()=>e.isDot?"":M(e.value)&&M(e.max)?e.max<e.value?`${e.max}+`:e.value===0&&!e.showZero?"":`${e.value}`:`${e.value}`);return t({content:o}),(i,u)=>(p(),$("div",{class:f(n(a).b())},[V(i.$slots,"default"),I(q,{name:`${n(a).namespace.value}-zoom-in-center`,persisted:""},{default:B(()=>[Z(k("sup",{class:f([n(a).e("content"),n(a).em("content",i.type),n(a).is("fixed",!!i.$slots.default),n(a).is("dot",i.isDot)]),style:j({backgroundColor:i.color}),textContent:G(n(o))},null,14,Se),[[K,!i.hidden&&(n(o)||i.isDot)]])]),_:1},8,["name"])],2))}});var $e=X(Me,[["__file","badge.vue"]]);const ke=re($e),Q=["success","info","warning","error"],r=ue({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:Y?document.body:void 0}),ze=U({customClass:{type:String,default:r.customClass},center:{type:Boolean,default:r.center},dangerouslyUseHTMLString:{type:Boolean,default:r.dangerouslyUseHTMLString},duration:{type:Number,default:r.duration},icon:{type:ie,default:r.icon},id:{type:String,default:r.id},message:{type:O([String,Object,Function]),default:r.message},onClose:{type:O(Function),default:r.onClose},showClose:{type:Boolean,default:r.showClose},type:{type:String,values:Q,default:r.type},plain:{type:Boolean,default:r.plain},offset:{type:Number,default:r.offset},zIndex:{type:Number,default:r.zIndex},grouping:{type:Boolean,default:r.grouping},repeatNum:{type:Number,default:r.repeatNum}}),Ie={destroy:()=>!0},c=ce([]),_e=s=>{const t=c.findIndex(o=>o.id===s),e=c[t];let a;return t>0&&(a=c[t-1]),{current:e,prev:a}},xe=s=>{const{prev:t}=_e(s);return t?t.vm.exposed.bottom.value:0},De=(s,t)=>c.findIndex(a=>a.id===s)>0?16:t,Le=["id"],Oe=["innerHTML"],Fe=N({name:"ElMessage"}),He=N({...Fe,props:ze,emits:Ie,setup(s,{expose:t}){const e=s,{Close:a}=be,{ns:o,zIndex:i}=de("message"),{currentZIndex:u,nextZIndex:m}=i,g=E(),v=E(!1),C=E(0);let w;const ee=d(()=>e.type?e.type==="error"?"danger":e.type:"info"),se=d(()=>{const l=e.type;return{[o.bm("icon",l)]:l&&F[l]}}),_=d(()=>e.icon||F[e.type]||""),ne=d(()=>xe(e.id)),x=d(()=>De(e.id,e.offset)+ne.value),te=d(()=>C.value+x.value),oe=d(()=>({top:`${x.value}px`,zIndex:u.value}));function S(){e.duration!==0&&({stop:w}=he(()=>{h()},e.duration))}function D(){w==null||w()}function h(){v.value=!1}function ae({code:l}){l===Te.esc&&h()}return pe(()=>{S(),m(),v.value=!0}),fe(()=>e.repeatNum,()=>{D(),S()}),me(document,"keydown",ae),ge(g,()=>{C.value=g.value.getBoundingClientRect().height}),t({visible:v,bottom:te,close:h}),(l,L)=>(p(),b(q,{name:n(o).b("fade"),onBeforeLeave:l.onClose,onAfterLeave:L[0]||(L[0]=Ze=>l.$emit("destroy")),persisted:""},{default:B(()=>[Z(k("div",{id:l.id,ref_key:"messageRef",ref:g,class:f([n(o).b(),{[n(o).m(l.type)]:l.type},n(o).is("center",l.center),n(o).is("closable",l.showClose),n(o).is("plain",l.plain),l.customClass]),style:j(n(oe)),role:"alert",onMouseenter:D,onMouseleave:S},[l.repeatNum>1?(p(),b(n(ke),{key:0,value:l.repeatNum,type:n(ee),class:f(n(o).e("badge"))},null,8,["value","type","class"])):T("v-if",!0),n(_)?(p(),b(n(H),{key:1,class:f([n(o).e("icon"),n(se)])},{default:B(()=>[(p(),b(ye(n(_))))]),_:1},8,["class"])):T("v-if",!0),V(l.$slots,"default",{},()=>[l.dangerouslyUseHTMLString?(p(),$(ve,{key:1},[T(" Caution here, message could've been compromised, never use user's input as message "),k("p",{class:f(n(o).e("content")),innerHTML:l.message},null,10,Oe)],2112)):(p(),$("p",{key:0,class:f(n(o).e("content"))},G(l.message),3))]),l.showClose?(p(),b(n(H),{key:2,class:f(n(o).e("closeBtn")),onClick:Ce(h,["stop"])},{default:B(()=>[I(n(a))]),_:1},8,["class","onClick"])):T("v-if",!0)],46,Le),[[K,v.value]])]),_:3},8,["name","onBeforeLeave"]))}});var Pe=X(He,[["__file","message.vue"]]);let Ae=1;const W=s=>{const t=!s||A(s)||J(s)||z(s)?{message:s}:s,e={...r,...t};if(!e.appendTo)e.appendTo=document.body;else if(A(e.appendTo)){let a=document.querySelector(e.appendTo);Be(a)||(a=document.body),e.appendTo=a}return e},Re=s=>{const t=c.indexOf(s);if(t===-1)return;c.splice(t,1);const{handler:e}=s;e.close()},Ue=({appendTo:s,...t},e)=>{const a=`message_${Ae++}`,o=t.onClose,i=document.createElement("div"),u={...t,id:a,onClose:()=>{o==null||o(),Re(C)},onDestroy:()=>{R(null,i)}},m=I(Pe,u,z(u.message)||J(u.message)?{default:z(u.message)?u.message:()=>u.message}:null);m.appContext=e||y._context,R(m,i),s.appendChild(i.firstElementChild);const g=m.component,C={id:a,vnode:m,vm:g,handler:{close:()=>{g.exposed.visible.value=!1}},props:m.component.props};return C},y=(s={},t)=>{if(!Y)return{close:()=>{}};if(M(P.max)&&c.length>=P.max)return{close:()=>{}};const e=W(s);if(e.grouping&&c.length){const o=c.find(({vnode:i})=>{var u;return((u=i.props)==null?void 0:u.message)===e.message});if(o)return o.props.repeatNum+=1,o.props.type=e.type,o.handler}const a=Ue(e,t);return c.push(a),a.handler};Q.forEach(s=>{y[s]=(t={},e)=>{const a=W(t);return y({...a,type:s},e)}});function Ve(s){for(const t of c)(!s||s===t.props.type)&&t.handler.close()}y.closeAll=Ve;y._context=null;const Ge=Ne(y,"$message");export{Ge as E};
